// Generated by CoffeeScript 1.9.3
(function() {
  var Promise, fs, sumFiles, utils;

  Promise = require('bluebird');

  fs = Promise.promisifyAll(require('fs'));

  utils = require('./utils');

  sumFiles = function(files, callback) {
    var reads;
    reads = files.map(function(x) {
      return fs.readFileAsync(x);
    });
    return Promise.all(reads).then(function(data) {
      return utils.sumStringsAsNumbers(data);
    }).then((function(data) {
      return callback(null, data);
    }), (function(err) {
      return callback(err);
    }));
  };

  module.exports = sumFiles;

}).call(this);
